<%- include("partials/header.ejs") %>

<div class="dashboard">
    <div class="container-dashboard">
        <h1>Cryptocurrency Converter Calculator</h1>
        <hr>
        <br>
        <form action="/exchange" method="post">
            <div class="exchange-container">
                <div class="coin-container">
                    <label for="amount">Enter amount: </label>
                    <input type="text" class="coin" name="amount" id="amount" placeholder="1" value="1">
                    <input type="text" name="slc" id="slc" style="display: none;">
                    <div class="custom-select" id="custom-select">
                        <p class="d-inline-block">Select coin: </p>
                        <div class="custom-select-trigger d-inline-block" name="slc" id="custom-select-exchange">
                            <%= dfc.name %>
                        </div>
                        <ul class="custom-options co-c">
                            <% coins.forEach(coin => { %>
                                <li data-coin-id="<%= coin.id %>" id="li-coin"><img src="<%= `${coin.image}` %>" alt=""> <p class="d-inline-block"><%= coin.name %></p> <p class="symbol d-inline-block"> (<%= coin.symbol %>) </p></li>
                            <% }); %>
                        </ul>
                    </div>
                    <br>
                </div>
                <div class="exchange">
                    <div class="custom-select" id="custom-select">
                        <p class="d-inline-block">Select currency: </p>
                        <div class="custom-select-trigger d-inline-block" name="slex" id="custom-select-coin">
                            <%= dfr.name %>
                        </div>
                        <ul class="custom-options co-ex">
                            <% for (let rateKey in rates.rates) { %>
                                <li data-exchange-id="<%= rates.rates[rateKey].unit %>" id="li-exchange"><p class="d-inline-block"><%= rates.rates[rateKey].name %></p><p class="d-inline-block">(<%= rates.rates[rateKey].unit %>)</p></li>
                            <% } %>
                        </ul>
                    </div>
                </div>
                <br>
                <div class="exchange-result">
                    <h2><img src="<%= dfc.image %>" width="50px" height="50px" alt=""> 1 <%= dfc.symbol %> = 1 <%= dfc.symbol %> </h2>
                    <p>Last update: <%= dfc.last_updated %></p>
                </div>
            </div>
        </form>
        <div class="chart-container">
            <div class="chart"></div>
        </div>
    </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script src="js/script.js"></script>

<%- include("partials/footer.ejs") %>